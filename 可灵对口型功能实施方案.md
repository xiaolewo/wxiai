# å¯çµå¯¹å£å‹åŠŸèƒ½å®æ–½æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†åœ¨WXIAIå¹³å°ä¸­é›†æˆå¯çµå¯¹å£å‹ï¼ˆLip Syncï¼‰åŠŸèƒ½çš„å®Œæ•´å®æ–½æ–¹æ¡ˆã€‚è¯¥åŠŸèƒ½å°†ä¸ºç”¨æˆ·æä¾›é«˜è´¨é‡çš„è§†é¢‘å¯¹å£å‹æœåŠ¡ï¼Œæ”¯æŒæ–‡æœ¬è½¬è¯­éŸ³å¯¹å£å‹å’ŒéŸ³é¢‘å¯¹å£å‹ä¸¤ç§æ¨¡å¼ã€‚

### ğŸ¯ åŠŸèƒ½ç›®æ ‡

- **ç”¨æˆ·ä½“éªŒ**ï¼šåœ¨ç°æœ‰è§†é¢‘ç”Ÿæˆé¡µé¢ä¸‹æ·»åŠ ä¸“é—¨çš„å¯¹å£å‹åŠŸèƒ½å…¥å£
- **åŠŸèƒ½å®Œæ•´æ€§**ï¼šæ”¯æŒä¸¤ç§å¯¹å£å‹æ¨¡å¼ï¼ˆæ–‡æœ¬è½¬è§†é¢‘ã€éŸ³é¢‘è½¬è§†é¢‘ï¼‰
- **ç®¡ç†ä¾¿åˆ©æ€§**ï¼šæä¾›å®Œå–„çš„ç®¡ç†å‘˜é…ç½®ç•Œé¢
- **ç³»ç»Ÿä¸€è‡´æ€§**ï¼šä¸ç°æœ‰æ¶æ„ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ç›¸åŒçš„ç§¯åˆ†å’Œæƒé™ç³»ç»Ÿ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šSvelteKit + TypeScript + TailwindCSS
- **åç«¯**ï¼šFastAPI + SQLAlchemy + Alembic
- **æ•°æ®åº“**ï¼šSQLite/PostgreSQL/MySQLï¼ˆæ”¯æŒå¤šç§ï¼‰
- **å¤–éƒ¨API**ï¼šå¯çµAIå¯¹å£å‹æœåŠ¡

### æ¶æ„å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ç•Œé¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ä¾§è¾¹æ å¯¼èˆª    â”‚  â”‚   å¯¹å£å‹å·¥ä½œåŒº   â”‚  â”‚   å†å²è®°å½•é¢æ¿   â”‚ â”‚
â”‚  â”‚  + è§†é¢‘å£å‹å…¥å£  â”‚  â”‚  å‚æ•°é…ç½®ç•Œé¢    â”‚  â”‚   ä»»åŠ¡ç®¡ç†      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        APIæ¥å£å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   å¯¹å£å‹API     â”‚  â”‚   é…ç½®ç®¡ç†API   â”‚  â”‚   ä»»åŠ¡ç®¡ç†API   â”‚ â”‚
â”‚  â”‚   /lip-sync/*   â”‚  â”‚   /admin/*      â”‚  â”‚   /tasks/*      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        ä¸šåŠ¡é€»è¾‘å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ä»»åŠ¡å¤„ç†      â”‚  â”‚   ç§¯åˆ†è®¡è´¹      â”‚  â”‚   æ–‡ä»¶ç®¡ç†      â”‚ â”‚
â”‚  â”‚   è½®è¯¢æœºåˆ¶      â”‚  â”‚   æƒé™éªŒè¯      â”‚  â”‚   äº‘å­˜å‚¨é›†æˆ    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        æ•°æ®æŒä¹…å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   å¯¹å£å‹ä»»åŠ¡è¡¨   â”‚  â”‚   é…ç½®è¡¨        â”‚  â”‚   ç§¯åˆ†è®°å½•è¡¨    â”‚ â”‚
â”‚  â”‚   kling_lip_sync â”‚ â”‚   kling_lip_cfg â”‚  â”‚   credit_log    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        å¤–éƒ¨æœåŠ¡å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   å¯çµAPI       â”‚  â”‚   äº‘å­˜å‚¨COS     â”‚  â”‚   æ”¯ä»˜ç³»ç»Ÿ      â”‚ â”‚
â”‚  â”‚   å¯¹å£å‹æœåŠ¡     â”‚  â”‚   æ–‡ä»¶å­˜å‚¨      â”‚  â”‚   ç§¯åˆ†å……å€¼      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ å‰ç«¯è®¾è®¡

### 1. ä¾§è¾¹æ å¯¼èˆªæ‰©å±•

åœ¨ç°æœ‰ä¾§è¾¹æ çš„"è§†é¢‘ç”Ÿæˆ"èœå•ä¸‹æ·»åŠ "è§†é¢‘å£å‹"å…¥å£ï¼š

```html
<!-- åœ¨ /src/lib/components/layout/Sidebar.svelte ä¸­æ·»åŠ  -->
<div class="px-[7px] flex justify-center text-gray-800 dark:text-gray-200">
	<a
		class="grow flex items-center space-x-3 rounded-lg px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"
		href="/lip-sync"
		on:click="{itemClickHandler}"
		draggable="false"
	>
		<div class="self-center">
			<!-- å¯¹å£å‹å›¾æ ‡ -->
			<svg class="size-4.5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
				<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" />
				<path d="M8 14s1.5 2 4 2 4-2 4-2" />
				<path d="M9 9h.01" />
				<path d="M15 9h.01" />
			</svg>
		</div>
		<div class="flex self-center translate-y-[0.5px]">
			<div class="self-center text-sm font-primary">è§†é¢‘å£å‹</div>
		</div>
	</a>
</div>
```

### 2. å¯¹å£å‹å·¥ä½œé¡µé¢

åˆ›å»º `/src/routes/(app)/lip-sync/+page.svelte`ï¼š

#### é¡µé¢å¸ƒå±€

- **å·¦ä¾§å·¥ä½œåŒº**ï¼šå‚æ•°é…ç½®å’Œæ“ä½œé¢æ¿
- **å³ä¾§å†å²åŒº**ï¼šä»»åŠ¡å†å²å’Œç»“æœå±•ç¤º
- **å¸ƒå±€ç‰¹ç‚¹**ï¼šä¸ç°æœ‰è§†é¢‘ç”Ÿæˆé¡µé¢ä¿æŒä¸€è‡´çš„è®¾è®¡é£æ ¼

#### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

```typescript
// ä¸»è¦çŠ¶æ€ç®¡ç†
let selectedMode: 'text2video' | 'audio2video' = 'text2video';
let isGenerating = false;
let currentTask: KlingLipSyncTask | null = null;
let generatedVideo: KlingLipSyncTask | null = null;
let taskHistory: KlingLipSyncTask[] = [];
let userCredits = 0;

// æ–‡æœ¬è½¬è§†é¢‘å‚æ•°
let prompt = '';
let voiceId = 'genshin_vindi2'; // é»˜è®¤ä¸ºé˜³å…‰å°‘å¹´
let voiceLanguage = 'zh';
let voiceSpeed = 1.0;

// éŸ³é¢‘è½¬è§†é¢‘å‚æ•°
let audioFile: string | null = null;
let audioType: 'file' | 'url' = 'file';
let audioUrl = '';

// è§†é¢‘è¾“å…¥å‚æ•°
let videoInput: string | null = null; // video_id æˆ– video_url
let inputType: 'video_id' | 'video_url' = 'video_url';
```

#### ç•Œé¢ç»„ä»¶

1. **æ¨¡å¼åˆ‡æ¢å™¨**ï¼šæ–‡æœ¬è½¬è§†é¢‘ / éŸ³é¢‘è½¬è§†é¢‘
2. **è§†é¢‘è¾“å…¥åŒº**ï¼šæ”¯æŒvideo_idå’Œvideo_urlä¸¤ç§æ–¹å¼
3. **æ–‡æœ¬è¾“å…¥åŒº**ï¼ˆæ–‡æœ¬æ¨¡å¼ï¼‰ï¼šæç¤ºè¯ã€éŸ³è‰²é€‰æ‹©ã€è¯­é€Ÿè°ƒèŠ‚
4. **éŸ³é¢‘è¾“å…¥åŒº**ï¼ˆéŸ³é¢‘æ¨¡å¼ï¼‰ï¼šæ–‡ä»¶ä¸Šä¼ æˆ–URLè¾“å…¥
5. **ç”ŸæˆæŒ‰é’®**ï¼šæ˜¾ç¤ºæ‰€éœ€ç§¯åˆ†å’Œç”ŸæˆçŠ¶æ€
6. **ç»“æœå±•ç¤ºåŒº**ï¼šæœ€æ–°ç”Ÿæˆçš„è§†é¢‘é¢„è§ˆ
7. **å†å²è®°å½•**ï¼šä»»åŠ¡åˆ—è¡¨å’Œç­›é€‰åŠŸèƒ½

#### éŸ³è‰²é€‰æ‹©å™¨å®ç°

```svelte
<script lang="ts">
	// å®Œæ•´éŸ³è‰²é€‰é¡¹é…ç½®ï¼ˆä¸ç®¡ç†å‘˜ç•Œé¢ä¸€è‡´ï¼‰
	const chineseVoiceOptions = [
		{ value: 'genshin_vindi2', label: 'é˜³å…‰å°‘å¹´' },
		{ value: 'zhinen_xuesheng', label: 'æ‡‚äº‹å°å¼Ÿ' },
		{ value: 'tiyuxi_xuedi', label: 'è¿åŠ¨å°‘å¹´' },
		{ value: 'ai_shatang', label: 'é’æ˜¥å°‘å¥³' },
		{ value: 'genshin_klee2', label: 'æ¸©æŸ”å°å¦¹' },
		{ value: 'genshin_kirara', label: 'å…ƒæ°”å°‘å¥³' },
		{ value: 'ai_kaiya', label: 'é˜³å…‰ç”·ç”Ÿ' },
		{ value: 'tiexin_nanyou', label: 'å¹½é»˜å°å“¥' },
		{ value: 'ai_chenjiahao_712', label: 'æ–‡è‰ºå°å“¥' },
		{ value: 'girlfriend_1_speech02', label: 'ç”œç¾é‚»å®¶' },
		{ value: 'chat1_female_new-3', label: 'æ¸©æŸ”å§å§' },
		{ value: 'girlfriend_2_speech02', label: 'èŒåœºå¥³é’' },
		{ value: 'cartoon-boy-07', label: 'æ´»æ³¼ç”·ç«¥' },
		{ value: 'cartoon-girl-01', label: 'ä¿çš®å¥³ç«¥' },
		{ value: 'ai_huangyaoshi_712', label: 'ç¨³é‡è€çˆ¸' },
		{ value: 'you_pingjing', label: 'æ¸©æŸ”å¦ˆå¦ˆ' },
		{ value: 'ai_laoguowang_712', label: 'ä¸¥è‚ƒä¸Šå¸' },
		{ value: 'chengshu_jiejie', label: 'ä¼˜é›…è´µå¦‡' },
		{ value: 'zhuxi_speech02', label: 'æ…ˆç¥¥çˆ·çˆ·' },
		{ value: 'uk_oldman3', label: 'å” å¨çˆ·çˆ·' },
		{ value: 'laopopo_speech02', label: 'å” å¨å¥¶å¥¶' },
		{ value: 'heainainai_speech02', label: 'å’Œè”¼å¥¶å¥¶' },
		{ value: 'dongbeilaotie_speech02', label: 'ä¸œåŒ—è€é“' },
		{ value: 'chongqingxiaohuo_speech02', label: 'é‡åº†å°ä¼™' },
		{ value: 'chuanmeizi_speech02', label: 'å››å·å¦¹å­' },
		{ value: 'chaoshandashu_speech02', label: 'æ½®æ±•å¤§å”' },
		{ value: 'ai_taiwan_man2_speech02', label: 'å°æ¹¾ç”·ç”Ÿ' },
		{ value: 'xianzhanggui_speech02', label: 'è¥¿å®‰æŒæŸœ' },
		{ value: 'tianjinjiejie_speech02', label: 'å¤©æ´¥å§å§' },
		{ value: 'diyinnansang_DB_CN_M_04-v2', label: 'æ–°é—»æ’­æŠ¥ç”·' },
		{ value: 'yizhipiannan-v1', label: 'è¯‘åˆ¶ç‰‡ç”·' },
		{ value: 'guanxiaofang-v2', label: 'å…ƒæ°”å°‘å¥³' },
		{ value: 'tianmeixuemei-v1', label: 'æ’’å¨‡å¥³å‹' },
		{ value: 'daopianyansang-v1', label: 'åˆ€ç‰‡çƒŸå—“' },
		{ value: 'mengwa-v1', label: 'ä¹–å·§æ­£å¤ª' }
	];

	const englishVoiceOptions = [
		{ value: 'genshin_vindi2', label: 'Sunny' },
		{ value: 'zhinen_xuesheng', label: 'Sage' },
		{ value: 'AOT', label: 'Ace' },
		{ value: 'ai_shatang', label: 'Blossom' },
		{ value: 'genshin_klee2', label: 'Peppy' },
		{ value: 'genshin_kirara', label: 'Dove' },
		{ value: 'ai_kaiya', label: 'Shine' },
		{ value: 'oversea_male1', label: 'Anchor' },
		{ value: 'ai_chenjiahao_712', label: 'Lyric' },
		{ value: 'girlfriend_4_speech02', label: 'Melody' },
		{ value: 'chat1_female_new-3', label: 'Tender' },
		{ value: 'chat_0407_5-1', label: 'Siren' },
		{ value: 'cartoon-boy-07', label: 'Zippy' },
		{ value: 'uk_boy1', label: 'Bud' },
		{ value: 'cartoon-girl-01', label: 'Sprite' },
		{ value: 'PeppaPig_platform', label: 'Candy' },
		{ value: 'ai_huangzhong_712', label: 'Beacon' },
		{ value: 'ai_huangyaoshi_712', label: 'Rock' },
		{ value: 'ai_laoguowang_712', label: 'Titan' },
		{ value: 'chengshu_jiejie', label: 'Grace' },
		{ value: 'you_pingjing', label: 'Helen' },
		{ value: 'calm_story1', label: 'Lore' },
		{ value: 'uk_man2', label: 'Crag' },
		{ value: 'laopopo_speech02', label: 'Prattle' },
		{ value: 'heainainai_speech02', label: 'Hearth' },
		{ value: 'reader_en_m-v1', label: 'The Reader' },
		{ value: 'commercial_lady_en_f-v1', label: 'Commercial Lady' }
	];

	// æ ¹æ®è¯­è¨€åŠ¨æ€æ˜¾ç¤ºéŸ³è‰²é€‰é¡¹
	$: currentVoiceOptions = voiceLanguage === 'zh' ? chineseVoiceOptions : englishVoiceOptions;

	// å½“è¯­è¨€åˆ‡æ¢æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢é»˜è®¤éŸ³è‰²
	$: if (voiceLanguage === 'zh' && !chineseVoiceOptions.find((v) => v.value === voiceId)) {
		voiceId = 'genshin_vindi2'; // é»˜è®¤ä¸­æ–‡éŸ³è‰²ï¼šé˜³å…‰å°‘å¹´
	} else if (voiceLanguage === 'en' && !englishVoiceOptions.find((v) => v.value === voiceId)) {
		voiceId = 'genshin_vindi2'; // é»˜è®¤è‹±æ–‡éŸ³è‰²ï¼šSunny
	}
</script>

<!-- è¯­è¨€é€‰æ‹©ä¼šåŠ¨æ€åˆ‡æ¢éŸ³è‰²é€‰é¡¹ -->
<div class="space-y-4">
	<div>
		<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> è¯­è¨€ </label>
		<select bind:value={voiceLanguage} class="form-select">
			<option value="zh">ä¸­æ–‡</option>
			<option value="en">English</option>
		</select>
	</div>

	<div>
		<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"> éŸ³è‰² </label>
		<select bind:value={voiceId} class="form-select">
			{#each currentVoiceOptions as option}
				<option value={option.value}>{option.label}</option>
			{/each}
		</select>
	</div>
</div>
```

### 3. å‰ç«¯APIæ¥å£

åˆ›å»º `/src/lib/apis/kling-lip-sync/index.ts`ï¼š

```typescript
// å¯¹å£å‹é…ç½®æ¥å£
export interface KlingLipSyncConfig {
    enabled: boolean;
    baseUrl: string;
    apiKey: string;
    defaultVoiceId: string; // é»˜è®¤ genshin_vindi2ï¼ˆé˜³å…‰å°‘å¹´ï¼‰
    defaultVoiceLanguage: string; // é»˜è®¤ zh
    defaultVoiceSpeed: number; // é»˜è®¤ 1.0
    creditsCost: number; // æ¯æ¬¡å¯¹å£å‹æ¶ˆè€—çš„ç§¯åˆ†ï¼Œé»˜è®¤ 50
}

// å¯¹å£å‹ä»»åŠ¡æ¥å£
export interface KlingLipSyncTask {
    id: string;
    userId: string;
    mode: 'text2video' | 'audio2video';
    status: 'submitted' | 'processing' | 'succeed' | 'failed';

    // è§†é¢‘è¾“å…¥
    videoInput: string; // video_id æˆ– video_url
    inputType: 'video_id' | 'video_url';

    // æ–‡æœ¬è½¬è§†é¢‘å‚æ•°
    text?: string;
    voiceId?: string;
    voiceLanguage?: string;
    voiceSpeed?: number;

    // éŸ³é¢‘è½¬è§†é¢‘å‚æ•°
    audioFile?: string; // base64 æˆ– URL
    audioType?: 'file' | 'url';

    // ç»“æœ
    videoUrl?: string;
    videoDuration?: string;
    failReason?: string;

    // ä»»åŠ¡ç®¡ç†
    creditsCost: number;
    submitTime: string;
    finishTime?: string;
    progress: string;
    createdAt: string;
    updatedAt: string;
}

// APIå‡½æ•°
export const getKlingLipSyncConfig = async (token: string): Promise<KlingLipSyncConfig>;
export const saveKlingLipSyncConfig = async (token: string, config: KlingLipSyncConfig): Promise<any>;
export const submitKlingLipSyncTask = async (token: string, request: KlingLipSyncRequest): Promise<any>;
export const getKlingLipSyncTaskStatus = async (token: string, taskId: string): Promise<KlingLipSyncTask>;
export const getKlingLipSyncHistory = async (token: string, page: number, limit: number): Promise<any>;
export const deleteKlingLipSyncTask = async (token: string, taskId: string): Promise<boolean>;
```

## ğŸ”§ åç«¯è®¾è®¡

### 1. æ•°æ®æ¨¡å‹è®¾è®¡

åˆ›å»º `/backend/open_webui/models/kling_lip_sync.py`ï¼š

```python
from sqlalchemy import Column, String, Integer, Boolean, DateTime, Text, Float, JSON
from sqlalchemy.sql import func
from open_webui.internal.db import Base
import uuid

class KlingLipSyncConfig(Base):
    __tablename__ = "kling_lip_sync_config"

    id = Column(Integer, primary_key=True)
    enabled = Column(Boolean, default=False)
    base_url = Column(String(500), default="https://api.kling.com")
    api_key = Column(Text)
    default_voice_id = Column(String(50), default="genshin_vindi2")
    default_voice_language = Column(String(10), default="zh")
    default_voice_speed = Column(Float, default=1.0)
    credits_cost = Column(Integer, default=50)  # æ¯æ¬¡å¯¹å£å‹æ¶ˆè€—çš„ç§¯åˆ†
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())

class KlingLipSyncTask(Base):
    __tablename__ = "kling_lip_sync_tasks"

    id = Column(String(50), primary_key=True, default=lambda: str(uuid.uuid4()))
    user_id = Column(String(50), nullable=False, index=True)

    # ä»»åŠ¡çŠ¶æ€
    status = Column(String(50), default="submitted", index=True)
    task_status_msg = Column(Text)

    # è¾“å…¥å‚æ•°
    mode = Column(String(20), nullable=False)  # text2video, audio2video
    video_input = Column(Text, nullable=False)  # video_id æˆ– video_url
    input_type = Column(String(20), nullable=False)  # video_id, video_url

    # æ–‡æœ¬è½¬è§†é¢‘å‚æ•°
    text = Column(Text)
    voice_id = Column(String(50))
    voice_language = Column(String(10))
    voice_speed = Column(Float)

    # éŸ³é¢‘è½¬è§†é¢‘å‚æ•°
    audio_file = Column(Text)  # base64 æˆ– URL
    audio_type = Column(String(10))  # file, url

    # ç»“æœ
    video_url = Column(Text)
    video_duration = Column(String(10))
    fail_reason = Column(Text)

    # ä»»åŠ¡ç®¡ç†
    credits_cost = Column(Integer, default=50)
    submit_time = Column(DateTime, default=func.now())
    finish_time = Column(DateTime)
    progress = Column(String(10), default="0%")

    # å…ƒæ•°æ®
    properties = Column(JSON)
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())

class KlingLipSyncCredit(Base):
    __tablename__ = "kling_lip_sync_credits"

    id = Column(String(50), primary_key=True, default=lambda: str(uuid.uuid4()))
    user_id = Column(String(50), nullable=False, index=True)
    task_id = Column(String(50), nullable=False)
    credit_amount = Column(Integer, nullable=False)
    operation_type = Column(String(20), nullable=False)  # deduct, refund
    created_at = Column(DateTime, default=func.now())
```

### 2. APIè·¯ç”±è®¾è®¡

åˆ›å»º `/backend/open_webui/routers/kling_lip_sync.py`ï¼š

```python
from fastapi import APIRouter, Depends, HTTPException, status, File, UploadFile
from pydantic import BaseModel
from typing import Optional, Union, List
import uuid
from datetime import datetime

from open_webui.models.kling_lip_sync import (
    KlingLipSyncConfig,
    KlingLipSyncTask,
    KlingLipSyncCredit
)
from open_webui.utils.auth import get_current_user, get_admin_user
from open_webui.utils.kling_lip_sync import KlingLipSyncAPI
from open_webui.utils.credit.usage import CreditDeduct

router = APIRouter()

# ======================== æ•°æ®æ¨¡å‹ ========================

class KlingLipSyncConfigModel(BaseModel):
    enabled: bool = False
    base_url: str = "https://api.kling.com"
    api_key: str = ""
    default_voice_id: str = "genshin_vindi2"
    default_voice_language: str = "zh"
    default_voice_speed: float = 1.0
    credits_cost: int = 50

class KlingLipSyncRequest(BaseModel):
    mode: str  # text2video, audio2video
    video_input: str  # video_id æˆ– video_url
    input_type: str  # video_id, video_url

    # æ–‡æœ¬è½¬è§†é¢‘å‚æ•°
    text: Optional[str] = None
    voice_id: Optional[str] = None
    voice_language: Optional[str] = "zh"
    voice_speed: Optional[float] = 1.0

    # éŸ³é¢‘è½¬è§†é¢‘å‚æ•°
    audio_file: Optional[str] = None  # base64æ•°æ®
    audio_url: Optional[str] = None
    audio_type: Optional[str] = "file"

    callback_url: Optional[str] = None

# ======================== ç®¡ç†å‘˜æ¥å£ ========================

@router.get("/config", dependencies=[Depends(get_admin_user)])
async def get_kling_lip_sync_config():
    """è·å–å¯çµå¯¹å£å‹é…ç½®ï¼ˆç®¡ç†å‘˜ï¼‰"""
    config = get_kling_lip_sync_config_from_db()
    return config

@router.post("/config", dependencies=[Depends(get_admin_user)])
async def save_kling_lip_sync_config(config: KlingLipSyncConfigModel):
    """ä¿å­˜å¯çµå¯¹å£å‹é…ç½®ï¼ˆç®¡ç†å‘˜ï¼‰"""
    save_kling_lip_sync_config_to_db(config)
    return {"success": True, "message": "é…ç½®ä¿å­˜æˆåŠŸ"}

@router.get("/test", dependencies=[Depends(get_admin_user)])
async def test_kling_lip_sync_connection():
    """æµ‹è¯•å¯çµå¯¹å£å‹è¿æ¥"""
    config = get_kling_lip_sync_config_from_db()
    if not config.enabled:
        raise HTTPException(status_code=400, detail="å¯çµå¯¹å£å‹æœåŠ¡æœªå¯ç”¨")

    api = KlingLipSyncAPI(config.base_url, config.api_key)
    result = await api.test_connection()
    return result

# ======================== ç”¨æˆ·æ¥å£ ========================

@router.get("/config/user")
async def get_user_kling_lip_sync_config(user=Depends(get_current_user)):
    """è·å–ç”¨æˆ·å¯è§çš„å¯çµå¯¹å£å‹é…ç½®"""
    config = get_kling_lip_sync_config_from_db()
    return {
        "enabled": config.enabled,
        "default_voice_id": config.default_voice_id,
        "default_voice_language": config.default_voice_language,
        "default_voice_speed": config.default_voice_speed,
        "credits_cost": config.credits_cost
    }

@router.post("/submit")
async def submit_kling_lip_sync_task(request: KlingLipSyncRequest, user=Depends(get_current_user)):
    """æäº¤å¯¹å£å‹ä»»åŠ¡"""
    config = get_kling_lip_sync_config_from_db()
    if not config.enabled:
        raise HTTPException(status_code=400, detail="å¯çµå¯¹å£å‹æœåŠ¡æœªå¯ç”¨")

    # éªŒè¯ç§¯åˆ†
    credit_deduct = CreditDeduct(user.id)
    if not credit_deduct.has_sufficient_credit(config.credits_cost):
        raise HTTPException(status_code=400, detail="ç§¯åˆ†ä¸è¶³")

    # åˆ›å»ºä»»åŠ¡
    task_id = str(uuid.uuid4())
    task = KlingLipSyncTask(
        id=task_id,
        user_id=user.id,
        mode=request.mode,
        video_input=request.video_input,
        input_type=request.input_type,
        text=request.text,
        voice_id=request.voice_id or config.default_voice_id,
        voice_language=request.voice_language or config.default_voice_language,
        voice_speed=request.voice_speed or config.default_voice_speed,
        audio_file=request.audio_file,
        audio_type=request.audio_type,
        credits_cost=config.credits_cost,
        status="submitted"
    )

    # ä¿å­˜åˆ°æ•°æ®åº“
    save_task_to_db(task)

    # æ‰£é™¤ç§¯åˆ†
    credit_deduct.deduct_credit(config.credits_cost, {
        "service": "kling_lip_sync",
        "task_id": task_id,
        "mode": request.mode
    })

    # æäº¤åˆ°å¯çµAPI
    api = KlingLipSyncAPI(config.base_url, config.api_key)
    result = await api.submit_lip_sync_task(request)

    if result.get("success"):
        # æ›´æ–°ä»»åŠ¡çŠ¶æ€
        task.status = "processing"
        update_task_in_db(task)

        return {
            "success": True,
            "task_id": task_id,
            "message": "ä»»åŠ¡æäº¤æˆåŠŸ"
        }
    else:
        # ä»»åŠ¡æäº¤å¤±è´¥ï¼Œé€€è¿˜ç§¯åˆ†
        credit_deduct.refund_credit(config.credits_cost, {
            "service": "kling_lip_sync",
            "task_id": task_id,
            "reason": "task_submit_failed"
        })
        task.status = "failed"
        task.fail_reason = result.get("message", "ä»»åŠ¡æäº¤å¤±è´¥")
        update_task_in_db(task)

        raise HTTPException(status_code=400, detail=result.get("message", "ä»»åŠ¡æäº¤å¤±è´¥"))

@router.get("/task/{task_id}")
async def get_kling_lip_sync_task_status(task_id: str, user=Depends(get_current_user)):
    """è·å–ä»»åŠ¡çŠ¶æ€"""
    task = get_task_from_db(task_id, user.id)
    if not task:
        raise HTTPException(status_code=404, detail="ä»»åŠ¡ä¸å­˜åœ¨")

    # å¦‚æœä»»åŠ¡è¿˜åœ¨å¤„ç†ä¸­ï¼ŒæŸ¥è¯¢å¯çµAPIè·å–æœ€æ–°çŠ¶æ€
    if task.status in ["submitted", "processing"]:
        config = get_kling_lip_sync_config_from_db()
        api = KlingLipSyncAPI(config.base_url, config.api_key)
        result = await api.get_task_status(task_id)

        # æ›´æ–°ä»»åŠ¡çŠ¶æ€
        if result:
            task.status = result.get("status", task.status)
            task.progress = result.get("progress", task.progress)
            task.video_url = result.get("video_url", task.video_url)
            task.fail_reason = result.get("fail_reason", task.fail_reason)

            if task.status == "succeed" and task.video_url:
                task.finish_time = datetime.now()

            update_task_in_db(task)

    return task_to_dict(task)

@router.get("/history")
async def get_kling_lip_sync_history(
    page: int = 1,
    limit: int = 20,
    user=Depends(get_current_user)
):
    """è·å–ç”¨æˆ·ä»»åŠ¡å†å²"""
    tasks = get_user_tasks_from_db(user.id, page, limit)
    total = get_user_tasks_count(user.id)

    return {
        "data": [task_to_dict(task) for task in tasks],
        "total": total,
        "page": page,
        "limit": limit
    }

@router.delete("/task/{task_id}")
async def delete_kling_lip_sync_task(task_id: str, user=Depends(get_current_user)):
    """åˆ é™¤ä»»åŠ¡"""
    task = get_task_from_db(task_id, user.id)
    if not task:
        raise HTTPException(status_code=404, detail="ä»»åŠ¡ä¸å­˜åœ¨")

    delete_task_from_db(task_id, user.id)
    return {"success": True, "message": "ä»»åŠ¡åˆ é™¤æˆåŠŸ"}

@router.get("/credits")
async def get_kling_lip_sync_credits(user=Depends(get_current_user)):
    """è·å–ç”¨æˆ·ç§¯åˆ†ä½™é¢"""
    credit_deduct = CreditDeduct(user.id)
    return {"balance": credit_deduct.get_current_balance()}
```

### 3. ä¸šåŠ¡é€»è¾‘å®ç°

åˆ›å»º `/backend/open_webui/utils/kling_lip_sync.py`ï¼š

```python
import aiohttp
import asyncio
import json
import base64
from typing import Dict, Any, Optional
from datetime import datetime

class KlingLipSyncAPI:
    """å¯çµå¯¹å£å‹APIå®¢æˆ·ç«¯"""

    def __init__(self, base_url: str, api_key: str):
        self.base_url = base_url.rstrip('/')
        self.api_key = api_key
        self.headers = {
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        }

    async def test_connection(self) -> Dict[str, Any]:
        """æµ‹è¯•APIè¿æ¥"""
        try:
            async with aiohttp.ClientSession() as session:
                # è¿™é‡Œå¯ä»¥è°ƒç”¨å¯çµAPIçš„å¥åº·æ£€æŸ¥æ¥å£
                async with session.get(
                    f"{self.base_url}/v1/videos/lip-sync",
                    headers=self.headers,
                    timeout=10
                ) as response:
                    if response.status == 200:
                        return {"status": "success", "message": "è¿æ¥æˆåŠŸ"}
                    else:
                        return {"status": "error", "message": f"è¿æ¥å¤±è´¥: HTTP {response.status}"}
        except Exception as e:
            return {"status": "error", "message": f"è¿æ¥å¼‚å¸¸: {str(e)}"}

    async def submit_lip_sync_task(self, request) -> Dict[str, Any]:
        """æäº¤å¯¹å£å‹ä»»åŠ¡"""
        try:
            # æ„å»ºè¯·æ±‚æ•°æ®
            data = {
                "input": {
                    request.input_type: request.video_input,
                    "mode": request.mode
                }
            }

            if request.mode == "text2video":
                data["input"].update({
                    "text": request.text,
                    "voice_id": request.voice_id,
                    "voice_language": request.voice_language,
                    "voice_speed": request.voice_speed
                })
            elif request.mode == "audio2video":
                data["input"].update({
                    "audio_type": request.audio_type,
                })
                if request.audio_type == "file":
                    data["input"]["audio_file"] = request.audio_file
                else:
                    data["input"]["audio_url"] = request.audio_url

            if request.callback_url:
                data["callback_url"] = request.callback_url

            async with aiohttp.ClientSession() as session:
                async with session.post(
                    f"{self.base_url}/v1/videos/lip-sync",
                    headers=self.headers,
                    json=data,
                    timeout=30
                ) as response:
                    result = await response.json()

                    if response.status == 200 and result.get("code") == 0:
                        return {
                            "success": True,
                            "task_id": result["data"]["task_id"],
                            "message": "ä»»åŠ¡æäº¤æˆåŠŸ"
                        }
                    else:
                        return {
                            "success": False,
                            "message": result.get("message", "ä»»åŠ¡æäº¤å¤±è´¥")
                        }
        except Exception as e:
            return {
                "success": False,
                "message": f"APIè°ƒç”¨å¼‚å¸¸: {str(e)}"
            }

    async def get_task_status(self, task_id: str) -> Optional[Dict[str, Any]]:
        """è·å–ä»»åŠ¡çŠ¶æ€"""
        try:
            async with aiohttp.ClientSession() as session:
                async with session.get(
                    f"{self.base_url}/v1/videos/lip-sync/{task_id}",
                    headers=self.headers,
                    timeout=10
                ) as response:
                    result = await response.json()

                    if response.status == 200 and result.get("code") == 0:
                        data = result["data"]

                        # è½¬æ¢çŠ¶æ€æ˜ å°„
                        status_mapping = {
                            "submitted": "submitted",
                            "processing": "processing",
                            "succeed": "succeed",
                            "failed": "failed"
                        }

                        return {
                            "status": status_mapping.get(data["task_status"], "processing"),
                            "progress": "100%" if data["task_status"] == "succeed" else "0%",
                            "video_url": data.get("task_result", {}).get("videos", [{}])[0].get("url") if data["task_status"] == "succeed" else None,
                            "fail_reason": data.get("task_status_msg") if data["task_status"] == "failed" else None
                        }

                    return None
        except Exception as e:
            print(f"è·å–ä»»åŠ¡çŠ¶æ€å¤±è´¥: {str(e)}")
            return None
```

## ğŸ”§ ç®¡ç†å‘˜é…ç½®ç•Œé¢

### 1. é…ç½®é¡µé¢è®¾è®¡

åœ¨ç®¡ç†å‘˜é¢æ¿ä¸­æ·»åŠ å¯çµå¯¹å£å‹é…ç½®é¡µé¢ï¼š

è·¯å¾„ï¼š`/src/routes/(app)/admin/settings/kling-lip-sync/+page.svelte`

```svelte
<script lang="ts">
	import { onMount } from 'svelte';
	import { toast } from 'svelte-sonner';
	import {
		getKlingLipSyncConfig,
		saveKlingLipSyncConfig,
		testKlingLipSyncConnection
	} from '$lib/apis/kling-lip-sync';
	import { user } from '$lib/stores';

	let config = {
		enabled: false,
		baseUrl: 'https://api.kling.com',
		apiKey: '',
		defaultVoiceId: 'genshin_vindi2',
		defaultVoiceLanguage: 'zh',
		defaultVoiceSpeed: 1.0,
		creditsCost: 50
	};

	let saving = false;
	let testing = false;
	let testResult = null;

	// éŸ³è‰²é€‰é¡¹ - æ ¹æ®è¯­è¨€åŠ¨æ€æ˜¾ç¤º
	const chineseVoiceOptions = [
		{ value: 'genshin_vindi2', label: 'é˜³å…‰å°‘å¹´' },
		{ value: 'zhinen_xuesheng', label: 'æ‡‚äº‹å°å¼Ÿ' },
		{ value: 'tiyuxi_xuedi', label: 'è¿åŠ¨å°‘å¹´' },
		{ value: 'ai_shatang', label: 'é’æ˜¥å°‘å¥³' },
		{ value: 'genshin_klee2', label: 'æ¸©æŸ”å°å¦¹' },
		{ value: 'genshin_kirara', label: 'å…ƒæ°”å°‘å¥³' },
		{ value: 'ai_kaiya', label: 'é˜³å…‰ç”·ç”Ÿ' },
		{ value: 'tiexin_nanyou', label: 'å¹½é»˜å°å“¥' },
		{ value: 'ai_chenjiahao_712', label: 'æ–‡è‰ºå°å“¥' },
		{ value: 'girlfriend_1_speech02', label: 'ç”œç¾é‚»å®¶' },
		{ value: 'chat1_female_new-3', label: 'æ¸©æŸ”å§å§' },
		{ value: 'girlfriend_2_speech02', label: 'èŒåœºå¥³é’' },
		{ value: 'cartoon-boy-07', label: 'æ´»æ³¼ç”·ç«¥' },
		{ value: 'cartoon-girl-01', label: 'ä¿çš®å¥³ç«¥' },
		{ value: 'ai_huangyaoshi_712', label: 'ç¨³é‡è€çˆ¸' },
		{ value: 'you_pingjing', label: 'æ¸©æŸ”å¦ˆå¦ˆ' },
		{ value: 'ai_laoguowang_712', label: 'ä¸¥è‚ƒä¸Šå¸' },
		{ value: 'chengshu_jiejie', label: 'ä¼˜é›…è´µå¦‡' },
		{ value: 'zhuxi_speech02', label: 'æ…ˆç¥¥çˆ·çˆ·' },
		{ value: 'uk_oldman3', label: 'å” å¨çˆ·çˆ·' },
		{ value: 'laopopo_speech02', label: 'å” å¨å¥¶å¥¶' },
		{ value: 'heainainai_speech02', label: 'å’Œè”¼å¥¶å¥¶' },
		{ value: 'dongbeilaotie_speech02', label: 'ä¸œåŒ—è€é“' },
		{ value: 'chongqingxiaohuo_speech02', label: 'é‡åº†å°ä¼™' },
		{ value: 'chuanmeizi_speech02', label: 'å››å·å¦¹å­' },
		{ value: 'chaoshandashu_speech02', label: 'æ½®æ±•å¤§å”' },
		{ value: 'ai_taiwan_man2_speech02', label: 'å°æ¹¾ç”·ç”Ÿ' },
		{ value: 'xianzhanggui_speech02', label: 'è¥¿å®‰æŒæŸœ' },
		{ value: 'tianjinjiejie_speech02', label: 'å¤©æ´¥å§å§' },
		{ value: 'diyinnansang_DB_CN_M_04-v2', label: 'æ–°é—»æ’­æŠ¥ç”·' },
		{ value: 'yizhipiannan-v1', label: 'è¯‘åˆ¶ç‰‡ç”·' },
		{ value: 'guanxiaofang-v2', label: 'å…ƒæ°”å°‘å¥³' },
		{ value: 'tianmeixuemei-v1', label: 'æ’’å¨‡å¥³å‹' },
		{ value: 'daopianyansang-v1', label: 'åˆ€ç‰‡çƒŸå—“' },
		{ value: 'mengwa-v1', label: 'ä¹–å·§æ­£å¤ª' }
	];

	const englishVoiceOptions = [
		{ value: 'genshin_vindi2', label: 'Sunny' },
		{ value: 'zhinen_xuesheng', label: 'Sage' },
		{ value: 'AOT', label: 'Ace' },
		{ value: 'ai_shatang', label: 'Blossom' },
		{ value: 'genshin_klee2', label: 'Peppy' },
		{ value: 'genshin_kirara', label: 'Dove' },
		{ value: 'ai_kaiya', label: 'Shine' },
		{ value: 'oversea_male1', label: 'Anchor' },
		{ value: 'ai_chenjiahao_712', label: 'Lyric' },
		{ value: 'girlfriend_4_speech02', label: 'Melody' },
		{ value: 'chat1_female_new-3', label: 'Tender' },
		{ value: 'chat_0407_5-1', label: 'Siren' },
		{ value: 'cartoon-boy-07', label: 'Zippy' },
		{ value: 'uk_boy1', label: 'Bud' },
		{ value: 'cartoon-girl-01', label: 'Sprite' },
		{ value: 'PeppaPig_platform', label: 'Candy' },
		{ value: 'ai_huangzhong_712', label: 'Beacon' },
		{ value: 'ai_huangyaoshi_712', label: 'Rock' },
		{ value: 'ai_laoguowang_712', label: 'Titan' },
		{ value: 'chengshu_jiejie', label: 'Grace' },
		{ value: 'you_pingjing', label: 'Helen' },
		{ value: 'calm_story1', label: 'Lore' },
		{ value: 'uk_man2', label: 'Crag' },
		{ value: 'laopopo_speech02', label: 'Prattle' },
		{ value: 'heainainai_speech02', label: 'Hearth' },
		{ value: 'reader_en_m-v1', label: 'The Reader' },
		{ value: 'commercial_lady_en_f-v1', label: 'Commercial Lady' }
	];

	// æ ¹æ®è¯­è¨€è·å–éŸ³è‰²é€‰é¡¹
	$: currentVoiceOptions =
		config.defaultVoiceLanguage === 'zh' ? chineseVoiceOptions : englishVoiceOptions;

	const languageOptions = [
		{ value: 'zh', label: 'ä¸­æ–‡' },
		{ value: 'en', label: 'è‹±æ–‡' }
	];

	onMount(async () => {
		await loadConfig();
	});

	const loadConfig = async () => {
		try {
			const result = await getKlingLipSyncConfig($user.token);
			if (result) {
				config = result;
			}
		} catch (error) {
			toast.error('åŠ è½½é…ç½®å¤±è´¥');
		}
	};

	const saveConfig = async () => {
		saving = true;
		try {
			await saveKlingLipSyncConfig($user.token, config);
			toast.success('é…ç½®ä¿å­˜æˆåŠŸ');
		} catch (error) {
			toast.error('ä¿å­˜é…ç½®å¤±è´¥');
		}
		saving = false;
	};

	const testConnection = async () => {
		if (!config.apiKey) {
			toast.error('è¯·å…ˆå¡«å†™APIå¯†é’¥');
			return;
		}

		testing = true;
		testResult = null;

		try {
			const result = await testKlingLipSyncConnection($user.token);
			testResult = result;

			if (result.status === 'success') {
				toast.success('è¿æ¥æµ‹è¯•æˆåŠŸ');
			} else {
				toast.error(`è¿æ¥æµ‹è¯•å¤±è´¥: ${result.message}`);
			}
		} catch (error) {
			testResult = { status: 'error', message: 'è¿æ¥æµ‹è¯•å¼‚å¸¸' };
			toast.error('è¿æ¥æµ‹è¯•å¼‚å¸¸');
		}

		testing = false;
	};
</script>

<div class="min-h-screen max-h-screen overflow-y-auto w-full">
	<div class="px-8 py-6">
		<div class="mb-6">
			<h1 class="text-2xl font-semibold text-gray-900 dark:text-white">å¯çµå¯¹å£å‹é…ç½®</h1>
			<p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
				é…ç½®å¯çµAIè§†é¢‘å¯¹å£å‹æœåŠ¡ï¼Œæ”¯æŒæ–‡æœ¬è½¬è¯­éŸ³å¯¹å£å‹å’ŒéŸ³é¢‘å¯¹å£å‹åŠŸèƒ½ã€‚
			</p>
		</div>

		<div class="bg-white dark:bg-gray-800 shadow rounded-lg">
			<div class="px-6 py-4 border-b border-gray-200 dark:border-gray-600">
				<h3 class="text-lg font-medium text-gray-900 dark:text-white">åŸºç¡€é…ç½®</h3>
			</div>

			<div class="px-6 py-4 space-y-6">
				<!-- æœåŠ¡å¯ç”¨ -->
				<div class="flex items-center justify-between">
					<div>
						<label class="text-sm font-medium text-gray-700 dark:text-gray-300">
							å¯ç”¨å¯çµå¯¹å£å‹æœåŠ¡
						</label>
						<p class="text-xs text-gray-500 dark:text-gray-400">å¯ç”¨åç”¨æˆ·å¯ä»¥ä½¿ç”¨å¯çµå¯¹å£å‹åŠŸèƒ½</p>
					</div>
					<label class="relative inline-flex items-center cursor-pointer">
						<input type="checkbox" bind:checked={config.enabled} class="sr-only peer" />
						<div
							class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"
						></div>
					</label>
				</div>

				<!-- APIé…ç½® -->
				<div>
					<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
						APIåŸºç¡€URL
					</label>
					<input
						bind:value={config.baseUrl}
						class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
						placeholder="https://api.kling.com"
					/>
				</div>

				<div>
					<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
						APIå¯†é’¥
					</label>
					<div class="flex gap-2">
						<input
							type="password"
							bind:value={config.apiKey}
							class="flex-1 rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
							placeholder="sk-xxx..."
						/>
						<button
							on:click={testConnection}
							disabled={testing || !config.apiKey}
							class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
						>
							{testing ? 'æµ‹è¯•ä¸­...' : 'æµ‹è¯•è¿æ¥'}
						</button>
					</div>

					{#if testResult}
						<div
							class="mt-2 p-2 rounded text-xs {testResult.status === 'success'
								? 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300'
								: 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300'}"
						>
							{testResult.message}
						</div>
					{/if}
				</div>

				<!-- é»˜è®¤å‚æ•°é…ç½® -->
				<div class="border-t border-gray-200 dark:border-gray-600 pt-6">
					<h4 class="text-md font-medium text-gray-900 dark:text-white mb-4">é»˜è®¤å‚æ•°è®¾ç½®</h4>

					<div class="grid grid-cols-2 gap-4">
						<div>
							<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
								é»˜è®¤éŸ³è‰²
							</label>
							<select
								bind:value={config.defaultVoiceId}
								class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
							>
								{#each currentVoiceOptions as option}
									<option value={option.value}>{option.label}</option>
								{/each}
							</select>
						</div>

						<div>
							<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
								é»˜è®¤è¯­è¨€
							</label>
							<select
								bind:value={config.defaultVoiceLanguage}
								class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
							>
								{#each languageOptions as option}
									<option value={option.value}>{option.label}</option>
								{/each}
							</select>
						</div>

						<div>
							<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
								é»˜è®¤è¯­é€Ÿ
							</label>
							<input
								type="number"
								min="0.8"
								max="2.0"
								step="0.1"
								bind:value={config.defaultVoiceSpeed}
								class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
							/>
						</div>

						<div>
							<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
								ç§¯åˆ†æ¶ˆè€—
							</label>
							<input
								type="number"
								min="1"
								bind:value={config.creditsCost}
								class="w-full rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm dark:bg-gray-700"
							/>
							<p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
								æ¯æ¬¡å¯¹å£å‹æ“ä½œæ¶ˆè€—çš„ç§¯åˆ†æ•°é‡
							</p>
						</div>
					</div>
				</div>

				<!-- ä¿å­˜æŒ‰é’® -->
				<div class="border-t border-gray-200 dark:border-gray-600 pt-6">
					<button
						on:click={saveConfig}
						disabled={saving}
						class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
					>
						{saving ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜é…ç½®'}
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
```

### 2. ç®¡ç†å‘˜å¯¼èˆªæ‰©å±•

åœ¨ç®¡ç†å‘˜è®¾ç½®é¡µé¢çš„ä¾§è¾¹æ ä¸­æ·»åŠ å¯¹å£å‹é…ç½®å…¥å£ï¼š

```html
<!-- åœ¨ç®¡ç†å‘˜è®¾ç½®å¯¼èˆªä¸­æ·»åŠ  -->
<a href="/admin/settings/kling-lip-sync" class="nav-item">
	<svg class="w-4 h-4" viewBox="0 0 24 24">
		<!-- å¯¹å£å‹å›¾æ ‡ -->
	</svg>
	å¯çµå¯¹å£å‹
</a>
```

## ğŸ—„ï¸ æ•°æ®åº“è¿ç§»æ–¹æ¡ˆ

### 1. è¿ç§»æ–‡ä»¶è®¾è®¡

åˆ›å»ºè¿ç§»æ–‡ä»¶ `/backend/open_webui/migrations/versions/xyz_add_kling_lip_sync_tables.py`ï¼š

```python
"""add kling lip sync tables

Revision ID: xyz123abc456
Revises: previous_revision
Create Date: 2024-08-24 12:00:00.000000

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers
revision = 'xyz123abc456'
down_revision = 'previous_revision'  # æ›¿æ¢ä¸ºå®é™…çš„ä¸Šä¸€ä¸ªrevision
branch_labels = None
depends_on = None

def upgrade():
    """åˆ›å»ºå¯çµå¯¹å£å‹ç›¸å…³è¡¨"""

    # åˆ›å»ºå¯çµå¯¹å£å‹é…ç½®è¡¨
    op.create_table('kling_lip_sync_config',
        sa.Column('id', sa.Integer(), nullable=False),
        sa.Column('enabled', sa.Boolean(), default=False),
        sa.Column('base_url', sa.String(500), default='https://api.kling.com'),
        sa.Column('api_key', sa.Text(), nullable=True),
        sa.Column('default_voice_id', sa.String(50), default='zh_female_001'),
        sa.Column('default_voice_language', sa.String(10), default='zh'),
        sa.Column('default_voice_speed', sa.Float(), default=1.0),
        sa.Column('credits_cost', sa.Integer(), default=50),
        sa.Column('created_at', sa.DateTime(), server_default=sa.text('now()')),
        sa.Column('updated_at', sa.DateTime(), server_default=sa.text('now()')),
        sa.PrimaryKeyConstraint('id')
    )

    # æ’å…¥é»˜è®¤é…ç½®
    op.execute("""
        INSERT INTO kling_lip_sync_config (enabled, base_url, default_voice_id, default_voice_language, default_voice_speed, credits_cost)
        VALUES (false, 'https://api.kling.com', 'genshin_vindi2', 'zh', 1.0, 50);
    """)

    # åˆ›å»ºå¯çµå¯¹å£å‹ä»»åŠ¡è¡¨
    op.create_table('kling_lip_sync_tasks',
        sa.Column('id', sa.String(50), nullable=False),
        sa.Column('user_id', sa.String(50), nullable=False),
        sa.Column('status', sa.String(50), default='submitted'),
        sa.Column('task_status_msg', sa.Text(), nullable=True),
        sa.Column('mode', sa.String(20), nullable=False),
        sa.Column('video_input', sa.Text(), nullable=False),
        sa.Column('input_type', sa.String(20), nullable=False),
        sa.Column('text', sa.Text(), nullable=True),
        sa.Column('voice_id', sa.String(50), nullable=True),
        sa.Column('voice_language', sa.String(10), nullable=True),
        sa.Column('voice_speed', sa.Float(), nullable=True),
        sa.Column('audio_file', sa.Text(), nullable=True),
        sa.Column('audio_type', sa.String(10), nullable=True),
        sa.Column('video_url', sa.Text(), nullable=True),
        sa.Column('video_duration', sa.String(10), nullable=True),
        sa.Column('fail_reason', sa.Text(), nullable=True),
        sa.Column('credits_cost', sa.Integer(), default=50),
        sa.Column('submit_time', sa.DateTime(), server_default=sa.text('now()')),
        sa.Column('finish_time', sa.DateTime(), nullable=True),
        sa.Column('progress', sa.String(10), default='0%'),
        sa.Column('properties', sa.JSON(), nullable=True),
        sa.Column('created_at', sa.DateTime(), server_default=sa.text('now()')),
        sa.Column('updated_at', sa.DateTime(), server_default=sa.text('now()')),
        sa.PrimaryKeyConstraint('id')
    )

    # åˆ›å»ºç´¢å¼•
    op.create_index('idx_kling_lip_sync_user_id', 'kling_lip_sync_tasks', ['user_id'])
    op.create_index('idx_kling_lip_sync_status', 'kling_lip_sync_tasks', ['status'])
    op.create_index('idx_kling_lip_sync_created', 'kling_lip_sync_tasks', ['created_at'])

    # åˆ›å»ºå¯çµå¯¹å£å‹ç§¯åˆ†è®°å½•è¡¨
    op.create_table('kling_lip_sync_credits',
        sa.Column('id', sa.String(50), nullable=False),
        sa.Column('user_id', sa.String(50), nullable=False),
        sa.Column('task_id', sa.String(50), nullable=False),
        sa.Column('credit_amount', sa.Integer(), nullable=False),
        sa.Column('operation_type', sa.String(20), nullable=False),
        sa.Column('created_at', sa.DateTime(), server_default=sa.text('now()')),
        sa.PrimaryKeyConstraint('id')
    )

    # åˆ›å»ºç§¯åˆ†è®°å½•ç´¢å¼•
    op.create_index('idx_kling_lip_sync_credit_user', 'kling_lip_sync_credits', ['user_id'])
    op.create_index('idx_kling_lip_sync_credit_task', 'kling_lip_sync_credits', ['task_id'])

def downgrade():
    """åˆ é™¤å¯çµå¯¹å£å‹ç›¸å…³è¡¨"""

    # åˆ é™¤ç´¢å¼•
    op.drop_index('idx_kling_lip_sync_credit_task', 'kling_lip_sync_credits')
    op.drop_index('idx_kling_lip_sync_credit_user', 'kling_lip_sync_credits')
    op.drop_index('idx_kling_lip_sync_created', 'kling_lip_sync_tasks')
    op.drop_index('idx_kling_lip_sync_status', 'kling_lip_sync_tasks')
    op.drop_index('idx_kling_lip_sync_user_id', 'kling_lip_sync_tasks')

    # åˆ é™¤è¡¨
    op.drop_table('kling_lip_sync_credits')
    op.drop_table('kling_lip_sync_tasks')
    op.drop_table('kling_lip_sync_config')
```

### 2. è¿ç§»æ‰§è¡Œè„šæœ¬

åˆ›å»ºè¿ç§»æ‰§è¡Œè„šæœ¬ `/backend/migrate_kling_lip_sync.py`ï¼š

```python
#!/usr/bin/env python3
"""
å¯çµå¯¹å£å‹æ•°æ®åº“è¿ç§»è„šæœ¬
æ‰§è¡Œæ–¹å¼: python migrate_kling_lip_sync.py
"""

import os
import sys
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from alembic.config import Config
from alembic import command
import sqlite3
from datetime import datetime

def backup_database():
    """å¤‡ä»½ç°æœ‰æ•°æ®åº“"""
    db_path = "data/webui.db"
    if os.path.exists(db_path):
        backup_path = f"data/webui.db.lip_sync_migration_backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}"
        import shutil
        shutil.copy2(db_path, backup_path)
        print(f"âœ… æ•°æ®åº“å·²å¤‡ä»½åˆ°: {backup_path}")
        return backup_path
    return None

def check_migration_needed():
    """æ£€æŸ¥æ˜¯å¦éœ€è¦è¿ç§»"""
    db_path = "data/webui.db"
    if not os.path.exists(db_path):
        print("âŒ æ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨")
        return False

    try:
        conn = sqlite3.connect(db_path)
        cursor = conn.cursor()

        # æ£€æŸ¥è¡¨æ˜¯å¦å·²å­˜åœ¨
        cursor.execute("""
            SELECT name FROM sqlite_master
            WHERE type='table' AND name='kling_lip_sync_config'
        """)

        exists = cursor.fetchone() is not None
        conn.close()

        if exists:
            print("â„¹ï¸  å¯çµå¯¹å£å‹è¡¨å·²å­˜åœ¨ï¼Œæ— éœ€è¿ç§»")
            return False
        else:
            print("ğŸ”„ éœ€è¦æ‰§è¡Œå¯çµå¯¹å£å‹è¿ç§»")
            return True

    except Exception as e:
        print(f"âŒ æ£€æŸ¥è¿ç§»çŠ¶æ€å¤±è´¥: {e}")
        return False

def run_migration():
    """æ‰§è¡Œè¿ç§»"""
    try:
        # è®¾ç½®Alembicé…ç½®
        alembic_cfg = Config("open_webui/alembic.ini")
        alembic_cfg.set_main_option("script_location", "open_webui/migrations")

        print("ğŸ”„ å¼€å§‹æ‰§è¡Œæ•°æ®åº“è¿ç§»...")

        # æ‰§è¡Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
        command.upgrade(alembic_cfg, "head")

        print("âœ… æ•°æ®åº“è¿ç§»å®Œæˆ!")

    except Exception as e:
        print(f"âŒ è¿ç§»å¤±è´¥: {e}")
        return False

    return True

def verify_migration():
    """éªŒè¯è¿ç§»ç»“æœ"""
    db_path = "data/webui.db"
    try:
        conn = sqlite3.connect(db_path)
        cursor = conn.cursor()

        # éªŒè¯è¡¨æ˜¯å¦åˆ›å»ºæˆåŠŸ
        tables = ['kling_lip_sync_config', 'kling_lip_sync_tasks', 'kling_lip_sync_credits']

        for table in tables:
            cursor.execute(f"SELECT name FROM sqlite_master WHERE type='table' AND name='{table}'")
            if not cursor.fetchone():
                print(f"âŒ è¡¨ {table} åˆ›å»ºå¤±è´¥")
                conn.close()
                return False

        # éªŒè¯é»˜è®¤é…ç½®æ˜¯å¦æ’å…¥
        cursor.execute("SELECT COUNT(*) FROM kling_lip_sync_config")
        count = cursor.fetchone()[0]

        if count == 0:
            print("âŒ é»˜è®¤é…ç½®æ’å…¥å¤±è´¥")
            conn.close()
            return False

        conn.close()
        print("âœ… è¿ç§»éªŒè¯æˆåŠŸ!")
        return True

    except Exception as e:
        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
        return False

def main():
    print("ğŸš€ å¯çµå¯¹å£å‹æ•°æ®åº“è¿ç§»å¼€å§‹")
    print("=" * 50)

    # 1. æ£€æŸ¥æ˜¯å¦éœ€è¦è¿ç§»
    if not check_migration_needed():
        print("âœ… è¿ç§»å®Œæˆ")
        return

    # 2. å¤‡ä»½æ•°æ®åº“
    backup_path = backup_database()

    # 3. æ‰§è¡Œè¿ç§»
    if not run_migration():
        print("âŒ è¿ç§»å¤±è´¥")
        if backup_path:
            print(f"ğŸ’¡ å¯ä»¥ä»å¤‡ä»½æ¢å¤: {backup_path}")
        sys.exit(1)

    # 4. éªŒè¯è¿ç§»
    if not verify_migration():
        print("âŒ è¿ç§»éªŒè¯å¤±è´¥")
        if backup_path:
            print(f"ğŸ’¡ å¯ä»¥ä»å¤‡ä»½æ¢å¤: {backup_path}")
        sys.exit(1)

    print("=" * 50)
    print("ğŸ‰ å¯çµå¯¹å£å‹åŠŸèƒ½è¿ç§»å®Œæˆ!")
    print("ğŸ“Œ ä¸‹ä¸€æ­¥:")
    print("   1. é‡å¯åº”ç”¨æœåŠ¡")
    print("   2. ç™»å½•ç®¡ç†å‘˜ç•Œé¢é…ç½®å¯çµå¯¹å£å‹å‚æ•°")
    print("   3. æµ‹è¯•å¯¹å£å‹åŠŸèƒ½")

if __name__ == "__main__":
    main()
```

## ğŸš€ éƒ¨ç½²å’Œæµ‹è¯•æ–¹æ¡ˆ

### 1. å¼€å‘ç¯å¢ƒéƒ¨ç½²æ­¥éª¤

```bash
# 1. åç«¯è¿ç§»
cd backend
python migrate_kling_lip_sync.py

# 2. é‡å¯åç«¯æœåŠ¡
python -m uvicorn open_webui.main:app --reload

# 3. å‰ç«¯å¼€å‘æœåŠ¡
cd ..
npm run dev
```

### 2. åŠŸèƒ½æµ‹è¯•æ¸…å•

#### ç®¡ç†å‘˜åŠŸèƒ½æµ‹è¯•

- [ ] å¯çµå¯¹å£å‹é…ç½®é¡µé¢è®¿é—®æ­£å¸¸
- [ ] é…ç½®å‚æ•°ä¿å­˜å’ŒåŠ è½½åŠŸèƒ½
- [ ] APIè¿æ¥æµ‹è¯•åŠŸèƒ½
- [ ] ç§¯åˆ†è®¾ç½®ç”Ÿæ•ˆ

#### ç”¨æˆ·åŠŸèƒ½æµ‹è¯•

- [ ] ä¾§è¾¹æ å¯¹å£å‹å…¥å£æ˜¾ç¤º
- [ ] å¯¹å£å‹é¡µé¢å¸ƒå±€æ­£å¸¸
- [ ] æ–‡æœ¬è½¬è§†é¢‘æ¨¡å¼åŠŸèƒ½
- [ ] éŸ³é¢‘è½¬è§†é¢‘æ¨¡å¼åŠŸèƒ½
- [ ] ä»»åŠ¡æäº¤å’ŒçŠ¶æ€è½®è¯¢
- [ ] å†å²è®°å½•ç®¡ç†
- [ ] ç§¯åˆ†æ‰£è´¹å’Œé€€è´¹æœºåˆ¶

#### é›†æˆæµ‹è¯•

- [ ] å¯çµAPIè°ƒç”¨æ­£å¸¸
- [ ] æ–‡ä»¶ä¸Šä¼ å’Œå¤„ç†
- [ ] äº‘å­˜å‚¨é›†æˆ
- [ ] é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

### 3. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# 1. æ•°æ®åº“å¤‡ä»½
cp data/webui.db data/webui.db.backup_$(date +%Y%m%d_%H%M%S)

# 2. æ‰§è¡Œè¿ç§»
python migrate_kling_lip_sync.py

# 3. é‡å¯æœåŠ¡
systemctl restart wxiai-backend
systemctl restart wxiai-frontend
```

## ğŸµ éŸ³è‰²é€‰é¡¹è¯´æ˜

### ä¸­æ–‡éŸ³è‰²åˆ†ç±» (35ç§)

**é’å°‘å¹´éŸ³è‰²**

- é˜³å…‰å°‘å¹´ (genshin_vindi2) - å……æ»¡æ´»åŠ›çš„ç”·å­©éŸ³è‰²
- æ‡‚äº‹å°å¼Ÿ (zhinen_xuesheng) - æˆç†Ÿç¨³é‡çš„ç”·å­¦ç”ŸéŸ³è‰²
- è¿åŠ¨å°‘å¹´ (tiyuxi_xuedi) - å¥åº·é˜³å…‰çš„è¿åŠ¨ç”·å­©
- é’æ˜¥å°‘å¥³ (ai_shatang) - ç”œç¾æ¸…æ–°çš„å¥³å­¦ç”ŸéŸ³è‰²
- æ¸©æŸ”å°å¦¹ (genshin_klee2) - æ¸©æš–å¯çˆ±çš„å°å¥³å­©
- å…ƒæ°”å°‘å¥³ (genshin_kirara) - æ´»æ³¼å¼€æœ—çš„å°‘å¥³éŸ³è‰²

**æˆå¹´éŸ³è‰²**

- é˜³å…‰ç”·ç”Ÿ (ai_kaiya) - æˆç†Ÿç”·æ€§ï¼Œå£°éŸ³æ˜æœ—
- å¹½é»˜å°å“¥ (tiexin_nanyou) - å¹½é»˜é£è¶£çš„ç”·æ€§éŸ³è‰²
- æ–‡è‰ºå°å“¥ (ai_chenjiahao_712) - æ¸©æ–‡å°”é›…çš„æ–‡è‰ºç”·æ€§
- ç”œç¾é‚»å®¶ (girlfriend_1_speech02) - äº²åˆ‡è‡ªç„¶çš„é‚»å®¶å¥³å­©
- æ¸©æŸ”å§å§ (chat1_female_new-3) - æŸ”ç¾æ¸©å’Œçš„å¥³æ€§éŸ³è‰²
- èŒåœºå¥³é’ (girlfriend_2_speech02) - å¹²ç»ƒçŸ¥æ€§çš„èŒåœºå¥³æ€§

**å„¿ç«¥éŸ³è‰²**

- æ´»æ³¼ç”·ç«¥ (cartoon-boy-07) - å¤©çœŸæ´»æ³¼çš„å°ç”·å­©
- ä¿çš®å¥³ç«¥ (cartoon-girl-01) - å¯çˆ±ä¿çš®çš„å°å¥³å­©
- ä¹–å·§æ­£å¤ª (mengwa-v1) - å¬è¯æ‡‚äº‹çš„å°ç”·å­©

**æˆç†ŸéŸ³è‰²**

- ç¨³é‡è€çˆ¸ (ai_huangyaoshi_712) - æ²‰ç¨³å¯é çš„çˆ¶äº²éŸ³è‰²
- æ¸©æŸ”å¦ˆå¦ˆ (you_pingjing) - æ…ˆçˆ±æ¸©æš–çš„æ¯äº²éŸ³è‰²
- ä¸¥è‚ƒä¸Šå¸ (ai_laoguowang_712) - æƒå¨ä¸¥è‚ƒçš„é¢†å¯¼éŸ³è‰²
- ä¼˜é›…è´µå¦‡ (chengshu_jiejie) - é«˜è´µå…¸é›…çš„å¥³æ€§éŸ³è‰²

**è€å¹´éŸ³è‰²**

- æ…ˆç¥¥çˆ·çˆ· (zhuxi_speech02) - æ…ˆç¥¥å’Œè”¼çš„çˆ·çˆ·
- å” å¨çˆ·çˆ· (uk_oldman3) - è¯å¤šçš„è€çˆ·çˆ·
- å” å¨å¥¶å¥¶ (laopopo_speech02) - çˆ±å” å¨çš„è€å¥¶å¥¶
- å’Œè”¼å¥¶å¥¶ (heainainai_speech02) - æ¸©å’Œæ…ˆç¥¥çš„å¥¶å¥¶

**åœ°åŸŸç‰¹è‰²éŸ³è‰²**

- ä¸œåŒ—è€é“ (dongbeilaotie_speech02) - ä¸œåŒ—æ–¹è¨€ç‰¹è‰²
- é‡åº†å°ä¼™ (chongqingxiaohuo_speech02) - é‡åº†æ–¹è¨€ç‰¹è‰²
- å››å·å¦¹å­ (chuanmeizi_speech02) - å››å·æ–¹è¨€ç‰¹è‰²
- æ½®æ±•å¤§å” (chaoshandashu_speech02) - æ½®æ±•æ–¹è¨€ç‰¹è‰²
- å°æ¹¾ç”·ç”Ÿ (ai_taiwan_man2_speech02) - å°æ¹¾è…”è°ƒç‰¹è‰²
- è¥¿å®‰æŒæŸœ (xianzhanggui_speech02) - è¥¿å®‰æ–¹è¨€ç‰¹è‰²
- å¤©æ´¥å§å§ (tianjinjiejie_speech02) - å¤©æ´¥æ–¹è¨€ç‰¹è‰²

**ä¸“ä¸šéŸ³è‰²**

- æ–°é—»æ’­æŠ¥ç”· (diyinnansang_DB_CN_M_04-v2) - ä¸“ä¸šæ’­éŸ³å‘˜éŸ³è‰²
- è¯‘åˆ¶ç‰‡ç”· (yizhipiannan-v1) - ç»å…¸è¯‘åˆ¶ç‰‡é…éŸ³
- æ’’å¨‡å¥³å‹ (tianmeixuemei-v1) - æ’’å¨‡ç”œç¾çš„å¥³å‹éŸ³è‰²
- åˆ€ç‰‡çƒŸå—“ (daopianyansang-v1) - ç‹¬ç‰¹çš„çƒŸå—“è´¨æ„Ÿ

### è‹±æ–‡éŸ³è‰²åˆ†ç±» (27ç§)

**é’å¹´éŸ³è‰²**

- Sunny (genshin_vindi2) - é˜³å…‰å¼€æœ—çš„ç”·æ€§
- Sage (zhinen_xuesheng) - ç¿æ™ºæ²‰ç¨³çš„ç”·æ€§
- Ace (AOT) - è‡ªä¿¡å¼ºåŠ¿çš„ç”·æ€§
- Blossom (ai_shatang) - èŠ±ä¸€æ ·ç¾ä¸½çš„å¥³æ€§
- Peppy (genshin_klee2) - æ´»åŠ›å……æ²›çš„å¥³æ€§
- Dove (genshin_kirara) - æ¸©å’Œå¦‚é¸½å­çš„å¥³æ€§

**æˆå¹´ä¸“ä¸šéŸ³è‰²**

- Shine (ai_kaiya) - é—ªè€€è‡ªä¿¡çš„ç”·æ€§
- Anchor (oversea_male1) - ä¸»æŒäººèˆ¬çš„ç”·æ€§
- Lyric (ai_chenjiahao_712) - å¯Œæœ‰è¯—æ„çš„ç”·æ€§
- Melody (girlfriend_4_speech02) - æ‚¦è€³å¦‚æ­Œçš„å¥³æ€§
- Tender (chat1_female_new-3) - æ¸©æŸ”ä½“è´´çš„å¥³æ€§
- Siren (chat_0407_5-1) - é­…æƒ‘åŠ¨äººçš„å¥³æ€§

**å„¿ç«¥éŸ³è‰²**

- Zippy (cartoon-boy-07) - å¿«é€Ÿæ´»æ³¼çš„ç”·ç«¥
- Bud (uk_boy1) - å¦‚èŠ±è‹èˆ¬çº¯çœŸçš„ç”·å­©
- Sprite (cartoon-girl-01) - ç²¾çµèˆ¬å¯çˆ±çš„å¥³ç«¥
- Candy (PeppaPig_platform) - ç”œå¦‚ç³–æœçš„å¥³ç«¥

**æˆç†ŸéŸ³è‰²**

- Beacon (ai_huangzhong_712) - å¦‚ç¯å¡”èˆ¬ç¨³é‡çš„ç”·æ€§
- Rock (ai_huangyaoshi_712) - åšå¦‚ç£çŸ³çš„ç”·æ€§
- Titan (ai_laoguowang_712) - å¼ºå¤§å¨ä¸¥çš„ç”·æ€§
- Grace (chengshu_jiejie) - ä¼˜é›…é«˜è´µçš„å¥³æ€§
- Helen (you_pingjing) - ç»å…¸ç¾ä¸½çš„å¥³æ€§

**ç‰¹è‰²éŸ³è‰²**

- Lore (calm_story1) - é€‚åˆè®²æ•…äº‹çš„å¹³é™éŸ³è‰²
- Crag (uk_man2) - ç²—çŠ·è±ªæ”¾çš„ç”·æ€§
- Prattle (laopopo_speech02) - çˆ±å” å¨çš„è€å¦‡äºº
- Hearth (heainainai_speech02) - æ¸©æš–å¦‚ç‚‰ç«çš„è€å¥¶å¥¶
- The Reader (reader_en_m-v1) - ä¸“ä¸šæœ—è¯»è€…éŸ³è‰²
- Commercial Lady (commercial_lady_en_f-v1) - å¹¿å‘Šå¥³å£°éŸ³è‰²

### éŸ³è‰²ä½¿ç”¨å»ºè®®

1. **è¯­è¨€ä¸€è‡´æ€§**ï¼šé€‰æ‹©ä¸å¯¹å£å‹å†…å®¹è¯­è¨€ä¸€è‡´çš„éŸ³è‰²
2. **è§’è‰²åŒ¹é…**ï¼šæ ¹æ®è§†é¢‘ä¸­çš„äººç‰©å¹´é¾„ã€æ€§æ ¼é€‰æ‹©åˆé€‚éŸ³è‰²
3. **åœºæ™¯é€‚é…**ï¼šæ­£å¼åœºåˆé€‰æ‹©ä¸“ä¸šéŸ³è‰²ï¼Œæ—¥å¸¸åœºæ™¯é€‰æ‹©äº²åˆ‡éŸ³è‰²
4. **åœ°åŸŸç‰¹è‰²**ï¼šå¦‚éœ€è¦æ–¹è¨€æ•ˆæœï¼Œå¯é€‰æ‹©å¯¹åº”åœ°åŸŸç‰¹è‰²éŸ³è‰²

## ğŸ“Š æ€§èƒ½å’Œç›‘æ§

### 1. æ€§èƒ½ä¼˜åŒ–å»ºè®®

- **APIè°ƒç”¨ä¼˜åŒ–**ï¼šå®æ–½è¿æ¥æ± å’Œé‡è¯•æœºåˆ¶
- **æ–‡ä»¶å¤„ç†ä¼˜åŒ–**ï¼šå¤§æ–‡ä»¶åˆ†å—ä¸Šä¼ 
- **ç¼“å­˜ç­–ç•¥**ï¼šé…ç½®å’Œä»»åŠ¡çŠ¶æ€ç¼“å­˜
- **æ•°æ®åº“ä¼˜åŒ–**ï¼šé€‚å½“çš„ç´¢å¼•å’ŒæŸ¥è¯¢ä¼˜åŒ–

### 2. ç›‘æ§æŒ‡æ ‡

- å¯çµå¯¹å£å‹ä»»åŠ¡æˆåŠŸç‡
- å¹³å‡å¤„ç†æ—¶é—´
- APIå“åº”æ—¶é—´
- ç§¯åˆ†æ¶ˆè€—ç»Ÿè®¡
- ç”¨æˆ·ä½¿ç”¨é¢‘ç‡

## ğŸ”§ ç»´æŠ¤å’Œæ‰©å±•

### 1. æ—¥å¸¸ç»´æŠ¤

- **æ—¥å¿—ç›‘æ§**ï¼šå…³æ³¨APIè°ƒç”¨å¤±è´¥æ—¥å¿—
- **ç§¯åˆ†æ ¸å¯¹**ï¼šå®šæœŸæ ¸å¯¹ç§¯åˆ†æ‰£è´¹å‡†ç¡®æ€§
- **æ€§èƒ½ç›‘æ§**ï¼šå…³æ³¨å“åº”æ—¶é—´å’ŒæˆåŠŸç‡
- **ç”¨æˆ·åé¦ˆ**ï¼šæ”¶é›†å’Œå¤„ç†ç”¨æˆ·ä½“éªŒåé¦ˆ

### 2. åŠŸèƒ½æ‰©å±•ç©ºé—´

- **æ›´å¤šéŸ³è‰²æ”¯æŒ**ï¼šæ‰©å±•å¯é€‰éŸ³è‰²åº“
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒæ‰¹é‡å¯¹å£å‹ä»»åŠ¡
- **æ¨¡æ¿ç®¡ç†**ï¼šå¸¸ç”¨é…ç½®æ¨¡æ¿ä¿å­˜
- **é«˜çº§è®¾ç½®**ï¼šæ›´å¤šå‚æ•°æ§åˆ¶é€‰é¡¹

## ğŸ“‹ é£é™©è¯„ä¼°å’Œåº”å¯¹

### 1. æŠ€æœ¯é£é™©

- **APIä¸ç¨³å®š**ï¼šå®æ–½é‡è¯•æœºåˆ¶å’Œé™çº§ç­–ç•¥
- **å­˜å‚¨ç©ºé—´**ï¼šç›‘æ§å­˜å‚¨ä½¿ç”¨é‡ï¼Œè®¾ç½®æ¸…ç†ç­–ç•¥
- **å¹¶å‘å¤„ç†**ï¼šåˆç†æ§åˆ¶å¹¶å‘ä»»åŠ¡æ•°é‡

### 2. ä¸šåŠ¡é£é™©

- **æˆæœ¬æ§åˆ¶**ï¼šè®¾ç½®åˆç†çš„ç§¯åˆ†ä»·æ ¼å’Œç”¨é‡é™åˆ¶
- **å†…å®¹å®‰å…¨**ï¼šå®æ–½å†…å®¹å®¡æ ¸æœºåˆ¶
- **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›æ¸…æ™°çš„ä½¿ç”¨æŒ‡å¯¼

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### 1. æŠ€æœ¯æŒ‡æ ‡

- åŠŸèƒ½å¯ç”¨æ€§ > 99%
- APIå“åº”æ—¶é—´ < 2ç§’
- ä»»åŠ¡æˆåŠŸç‡ > 95%

### 2. ç”¨æˆ·æŒ‡æ ‡

- ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5
- åŠŸèƒ½ä½¿ç”¨ç‡ > 30%
- ç”¨æˆ·ç•™å­˜ç‡æå‡

---

## ğŸ“ æ”¯æŒè”ç³»

å¦‚æœ‰ä»»ä½•æŠ€æœ¯é—®é¢˜æˆ–å®æ–½å›°éš¾ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿè·å¾—æ”¯æŒã€‚

**å®æ–½çŠ¶æ€**: â³ å¾…å®æ–½  
**é¢„è®¡å·¥æœŸ**: 3-5ä¸ªå·¥ä½œæ—¥  
**é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­ç­‰ï¼ˆéœ€è¦å¤–éƒ¨APIé›†æˆï¼‰
